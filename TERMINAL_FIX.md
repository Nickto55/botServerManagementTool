# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º

## ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞:**
"–í –∫–æ–Ω—Å–æ–ª—è—Ö –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∏—á–µ–≥–æ" - —Ç–µ—Ä–º–∏–Ω–∞–ª –Ω–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª –Ω–∞ –≤–≤–æ–¥ –∫–æ–º–∞–Ω–¥

## üîç **–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

### **1. –û—à–∏–±–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**
```
BuildError: Could not build url for endpoint 'login'. Did you mean 'auth.login' instead?
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–æ—É—Ç –≤ middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–∏–ª–∏ `url_for('login')` –Ω–∞ `url_for('auth.login')`

### **2. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**
**–ü—Ä–æ–±–ª–µ–º–∞:** Middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª WebSocket –∑–∞–ø—Ä–æ—Å—ã
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è `/socket.io/` –ø—É—Ç–µ–π + –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ —Å–∞–º–∏—Ö WebSocket –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö

### **3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–º–ø–æ—Ä—Ç–∞ `emit`**
**–ü—Ä–æ–±–ª–µ–º–∞:** WebSocket –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ –º–æ–≥–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏–ª–∏ `from flask_socketio import SocketIO, emit`

## ‚úÖ **–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

### **1. app.py - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏:**
```python
# –ë–´–õ–û:
return redirect(url_for('login'))

# –°–¢–ê–õ–û:
return redirect(url_for('auth.login'))
```

### **2. app.py - WebSocket –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:**
```python
# –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –ø—É—Ç–∏:
allowed_paths = [
    '/login', '/static/', '/health', '/socket.io/'
]

# –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ WebSocket –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:
@socketio.on('terminal_start')
def on_terminal_start(data):
    if 'user_id' not in session:
        emit('terminal_output', {'data': '–û—à–∏–±–∫–∞: —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è\n'})
        return
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
```

### **3. app.py - –ò–º–ø–æ—Ä—Ç—ã:**
```python
from flask_socketio import SocketIO, emit  # –î–æ–±–∞–≤–ª–µ–Ω emit
```

## üéØ **–¢–µ–ø–µ—Ä—å —Ç–µ—Ä–º–∏–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç:**

### **‚úÖ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
1. **–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å** –Ω–∞ http://87.120.166.213 (admin/admin)
2. **–ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
3. **–ù–∞–∂–º–∏—Ç–µ "–¢–µ—Ä–º–∏–Ω–∞–ª"** —Ä—è–¥–æ–º —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º 
4. **–í–≤–æ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã** –≤ –ø–æ–ª–µ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞
5. **–ù–∞–∂–∏–º–∞–π—Ç–µ Enter** –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### **üîß –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- ‚å®Ô∏è **–í–≤–æ–¥ –∫–æ–º–∞–Ω–¥** —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º Enter
- ‚¨ÜÔ∏è‚¨áÔ∏è **–ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥** —Å—Ç—Ä–µ–ª–∫–∏ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑  
- üîÑ **Tab –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ** –±–∞–∑–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
- üñ•Ô∏è **–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º** (–∫–Ω–æ–ø–∫–∞ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å)
- üé® **–¶–≤–µ—Ç–æ–≤–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞** –≤—ã–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥

### **üß™ –¢–µ—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≥–æ—Ç–æ–≤:**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
docker ps  # –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å "test-terminal"

# –ú–æ–∂–µ—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã:
ls, pwd, echo "hello", cat /etc/os-release
```

## üöÄ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è
- ‚úÖ –í—ã–≤–æ–¥ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ –∏ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç

**–¢–µ—Ä–º–∏–Ω–∞–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

## üìã **–õ–æ–≥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
1. **06:00** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ä–æ—É—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ `url_for('auth.login')`
2. **06:06** - –î–æ–±–∞–≤–ª–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è WebSocket –≤ middleware  
3. **06:06** - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ WebSocket –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
4. **06:06** - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `emit` –¥–ª—è WebSocket —Å–æ–æ–±—â–µ–Ω–∏–π
5. **06:06** - –°–ª—É–∂–±–∞ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–∞, –≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã ‚úÖ